<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- iOS specific meta tags -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Learn Qur'an - Dynamic Surah Loader</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-button">
                ← Back to Home
            </a>
            <h1 class="surah-title" id="surah-title">Loading...</h1>
            <div class="surah-info" id="surah-info">Loading Surah...</div>
        </div>

        <div class="loading" id="loading">
            Loading Surah data and verses...
        </div>

        <div class="error" id="error" style="display: none;">
            <h3>Error Loading Surah</h3>
            <p id="error-message"></p>
            <button onclick="window.location.href='index.html'" style="margin-top: 15px; padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Back to Home</button>
        </div>

<div class="audio-controls" id="audio-controls" style="display: none;">
    <div class="control-row">
        <button class="control-button" id="play-pause-btn" onclick="togglePlayPause()">
            <span id="play-pause-icon">▶️</span>
            <span id="play-pause-text">Play</span>
        </button>
        
        <button class="control-button" onclick="startFromBeginning()">
            ⏮️ Start Over
        </button>
        
        <button class="control-button toggle-button" id="repeat-btn" onclick="toggleRepeat()">
            🔁 Repeat
        </button>
    </div>
    
    <div class="verse-status" id="status">Ready to recite</div>
</div>

<!-- Add this after the audio-controls div -->
<div class="settings-container">
    <button class="settings-toggle-btn" id="settings-toggle" onclick="toggleSettings()">
        ⚙️ Settings
    </button>
    
    <div class="settings-menu" id="settings-menu" style="display: none;">
        <div class="settings-header">
            <h3>Display Settings</h3>
            <button class="settings-close" onclick="closeSettings()">✕</button>
        </div>
        
        <div class="settings-content">
    <div class="setting-item">
        <label class="setting-label">
            <span>English Translation</span>
            <label class="toggle-switch">
                <input type="checkbox" id="translation-toggle" checked onchange="toggleTranslation()">
                <span class="toggle-slider"></span>
            </label>
        </label>
    </div>

    <div class="setting-item">
        <label class="setting-label">
            <span>Transliteration</span>
            <label class="toggle-switch">
                <input type="checkbox" id="transliteration-toggle" checked onchange="toggleTransliteration()">
                <span class="toggle-slider"></span>
            </label>
        </label>
    </div>
    
</div>

    </div>
</div>

        <div class="verse-container" id="verse-container" style="display: none;">
            <!-- Verses will be dynamically generated here -->
        </div>

        <div class="navigation-controls" id="navigation-controls" style="display: none;">
    <button class="nav-button" id="prev-btn" onclick="previousVerse()">◀️ Previous</button>
    
    <div class="verse-selector-container">
        <label for="verse-selector" class="verse-selector-label">Verse:</label>
        <select id="verse-selector" class="verse-selector" onchange="jumpToVerse()">
            <!-- Options will be populated dynamically -->
        </select>
        <span class="verse-total" id="verse-total">of 0</span>
    </div>
    
    <button class="nav-button" id="next-btn" onclick="nextVerse()">Next ▶️</button>
</div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/data/surah-database.js"></script>
    <script src="js/utils/url-utils.js"></script>
    <script src="js/services/api-service.js"></script>
    <script src="js/services/audio-service.js"></script>
    <script src="js/services/reading-progress.js"></script>
    <script src="js/components/verse-display.js"></script>
    <script src="js/components/controls.js"></script>
    <script src="js/components/word-highlighting.js"></script>
    <script src="js/components/settings.js"></script>
    <script src="js/main.js"></script>
</body>
</html>